<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.51799c192fa25789803b.css" id="gatsby-global-css">@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:100;src:local("Montserrat Thin "),local("Montserrat-Thin"),url(/static/montserrat-latin-100-8d7d79679b70dbe27172b6460e7a7910.woff2) format("woff2"),url(/static/montserrat-latin-100-ec38980a9e0119a379e2a9b3dbb1901a.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:100;src:local("Montserrat Thin italic"),local("Montserrat-Thinitalic"),url(/static/montserrat-latin-100italic-e279051046ba1286706adc886cf1c96b.woff2) format("woff2"),url(/static/montserrat-latin-100italic-3b325a3173c8207435cd1b76e19bf501.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:200;src:local("Montserrat Extra Light "),local("Montserrat-Extra Light"),url(/static/montserrat-latin-200-9d266fbbfa6cab7009bd56003b1eeb67.woff2) format("woff2"),url(/static/montserrat-latin-200-2d8ba08717110d27122e54c34b8a5798.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:200;src:local("Montserrat Extra Light italic"),local("Montserrat-Extra Lightitalic"),url(/static/montserrat-latin-200italic-6e5b3756583bb2263eb062eae992735e.woff2) format("woff2"),url(/static/montserrat-latin-200italic-a0d6f343e4b536c582926255367a57da.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:300;src:local("Montserrat Light "),local("Montserrat-Light"),url(/static/montserrat-latin-300-00b3e893aab5a8fd632d6342eb72551a.woff2) format("woff2"),url(/static/montserrat-latin-300-ea303695ceab35f17e7d062f30e0173b.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:300;src:local("Montserrat Light italic"),local("Montserrat-Lightitalic"),url(/static/montserrat-latin-300italic-56f34ea368f6aedf89583d444bbcb227.woff2) format("woff2"),url(/static/montserrat-latin-300italic-54b0bf2c8c4c12ffafd803be2466a790.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:400;src:local("Montserrat Regular "),local("Montserrat-Regular"),url(/static/montserrat-latin-400-b71748ae4f80ec8c014def4c5fa8688b.woff2) format("woff2"),url(/static/montserrat-latin-400-0659a9f4e90db5cf51b50d005bff1e41.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:400;src:local("Montserrat Regular italic"),local("Montserrat-Regularitalic"),url(/static/montserrat-latin-400italic-6eed6b4cbb809c6efc7aa7ddad6dbe3e.woff2) format("woff2"),url(/static/montserrat-latin-400italic-7583622cfde30ae49086d18447ab28e7.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:500;src:local("Montserrat Medium "),local("Montserrat-Medium"),url(/static/montserrat-latin-500-091b209546e16313fd4f4fc36090c757.woff2) format("woff2"),url(/static/montserrat-latin-500-edd311588712a96bbf435fad264fff62.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:500;src:local("Montserrat Medium italic"),local("Montserrat-Mediumitalic"),url(/static/montserrat-latin-500italic-c90ced68b46050061d1a41842d6dfb43.woff2) format("woff2"),url(/static/montserrat-latin-500italic-5146cbfe02b1deea5dffea27a5f2f998.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:600;src:local("Montserrat SemiBold "),local("Montserrat-SemiBold"),url(/static/montserrat-latin-600-0480d2f8a71f38db8633b84d8722e0c2.woff2) format("woff2"),url(/static/montserrat-latin-600-b77863a375260a05dd13f86a1cee598f.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:600;src:local("Montserrat SemiBold italic"),local("Montserrat-SemiBolditalic"),url(/static/montserrat-latin-600italic-cf46ffb11f3a60d7df0567f8851a1d00.woff2) format("woff2"),url(/static/montserrat-latin-600italic-c4fcfeeb057724724097167e57bd7801.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:700;src:local("Montserrat Bold "),local("Montserrat-Bold"),url(/static/montserrat-latin-700-7dbcc8a5ea2289d83f657c25b4be6193.woff2) format("woff2"),url(/static/montserrat-latin-700-99271a835e1cae8c76ef8bba99a8cc4e.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:700;src:local("Montserrat Bold italic"),local("Montserrat-Bolditalic"),url(/static/montserrat-latin-700italic-c41ad6bdb4bd504a843d546d0a47958d.woff2) format("woff2"),url(/static/montserrat-latin-700italic-6779372f04095051c62ed36bc1dcc142.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:800;src:local("Montserrat ExtraBold "),local("Montserrat-ExtraBold"),url(/static/montserrat-latin-800-db9a3e0ba7eaea32e5f55328ace6cf23.woff2) format("woff2"),url(/static/montserrat-latin-800-4e3c615967a2360f5db87d2f0fd2456f.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:800;src:local("Montserrat ExtraBold italic"),local("Montserrat-ExtraBolditalic"),url(/static/montserrat-latin-800italic-bf45bfa14805969eda318973947bc42b.woff2) format("woff2"),url(/static/montserrat-latin-800italic-fe82abb0bcede51bf724254878e0c374.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:900;src:local("Montserrat Black "),local("Montserrat-Black"),url(/static/montserrat-latin-900-e66c7edc609e24bacbb705175669d814.woff2) format("woff2"),url(/static/montserrat-latin-900-8211f418baeb8ec880b80ba3c682f957.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:900;src:local("Montserrat Black italic"),local("Montserrat-Blackitalic"),url(/static/montserrat-latin-900italic-4454c775e48152c1a72510ceed3603e2.woff2) format("woff2"),url(/static/montserrat-latin-900italic-efcaa0f6a82ee0640b83a0916e6e8d68.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:300;src:local("Merriweather Light "),local("Merriweather-Light"),url(/static/merriweather-latin-300-fc117160c69a8ea0851b26dd14748ee4.woff2) format("woff2"),url(/static/merriweather-latin-300-58b18067ebbd21fda77b67e73c241d3b.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:300;src:local("Merriweather Light italic"),local("Merriweather-Lightitalic"),url(/static/merriweather-latin-300italic-fe29961474f8dbf77c0aa7b9a629e4bc.woff2) format("woff2"),url(/static/merriweather-latin-300italic-23c3f1f88683618a4fb8d265d33d383a.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:400;src:local("Merriweather Regular "),local("Merriweather-Regular"),url(/static/merriweather-latin-400-d9479e8023bef9cbd9bf8d6eabd6bf36.woff2) format("woff2"),url(/static/merriweather-latin-400-040426f99ff6e00b86506452e0d1f10b.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:400;src:local("Merriweather Regular italic"),local("Merriweather-Regularitalic"),url(/static/merriweather-latin-400italic-2de7bfeaf08fb03d4315d49947f062f7.woff2) format("woff2"),url(/static/merriweather-latin-400italic-79db67aca65f5285964ab332bd65f451.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:700;src:local("Merriweather Bold "),local("Merriweather-Bold"),url(/static/merriweather-latin-700-4b08e01d805fa35d7bf777f1b24314ae.woff2) format("woff2"),url(/static/merriweather-latin-700-22fb8afba4ab1f093b6ef9e28a9b6e92.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:700;src:local("Merriweather Bold italic"),local("Merriweather-Bolditalic"),url(/static/merriweather-latin-700italic-cd92541b177652fffb6e3b952f1c33f1.woff2) format("woff2"),url(/static/merriweather-latin-700italic-f87f3d87cea0dd0979bfc8ac9ea90243.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:900;src:local("Merriweather Black "),local("Merriweather-Black"),url(/static/merriweather-latin-900-f813fc6a4bee46eda5224ac7ebf1b7be.woff2) format("woff2"),url(/static/merriweather-latin-900-5d4e42cb44410674acd99153d57df032.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:900;src:local("Merriweather Black italic"),local("Merriweather-Blackitalic"),url(/static/merriweather-latin-900italic-b7901d85486871c1779c0e93ddd85656.woff2) format("woff2"),url(/static/merriweather-latin-900italic-9647f9fdab98756989a8a5550eb205c3.woff) format("woff")}


/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{-webkit-text-size-adjust:100%;line-height:1.15}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden]{display:none}:root{--maxWidth-none:"none";--maxWidth-xs:20rem;--maxWidth-sm:24rem;--maxWidth-md:28rem;--maxWidth-lg:32rem;--maxWidth-xl:36rem;--maxWidth-2xl:42rem;--maxWidth-3xl:48rem;--maxWidth-4xl:56rem;--maxWidth-full:"100%";--maxWidth-wrapper:var(--maxWidth-2xl);--spacing-px:"1px";--spacing-0:0;--spacing-1:0.25rem;--spacing-2:0.5rem;--spacing-3:0.75rem;--spacing-4:1rem;--spacing-5:1.25rem;--spacing-6:1.5rem;--spacing-8:2rem;--spacing-10:2.5rem;--spacing-12:3rem;--spacing-16:4rem;--spacing-20:5rem;--spacing-24:6rem;--spacing-32:8rem;--fontFamily-sans:Montserrat,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--fontFamily-serif:"Merriweather","Georgia",Cambria,"Times New Roman",Times,serif;--font-body:var(--fontFamily-serif);--font-heading:var(--fontFamily-sans);--fontWeight-normal:400;--fontWeight-medium:500;--fontWeight-semibold:600;--fontWeight-bold:700;--fontWeight-extrabold:800;--fontWeight-black:900;--fontSize-root:16px;--lineHeight-none:1;--lineHeight-tight:1.1;--lineHeight-normal:1.5;--lineHeight-relaxed:1.625;--fontSize-0:0.833rem;--fontSize-1:1rem;--fontSize-2:1.2rem;--fontSize-3:1.44rem;--fontSize-4:1.728rem;--fontSize-5:2.074rem;--fontSize-6:2.488rem;--fontSize-7:2.986rem;--color-primary:#005b99;--color-text:#2e353f;--color-text-light:#4f5969;--color-heading:#1a202c;--color-heading-black:#000;--color-accent:#d1dce5}*,:after,:before{box-sizing:border-box}html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:var(--fontSize-root);line-height:var(--lineHeight-normal)}body{color:var(--color-text);font-family:var(--font-body);font-size:var(--fontSize-1)}footer{padding:var(--spacing-6) var(--spacing-0)}hr{background:var(--color-accent);border:0;height:1px}h1,h2,h3,h4,h5,h6{font-family:var(--font-heading);letter-spacing:-.025em;line-height:var(--lineHeight-tight);margin-bottom:var(--spacing-6);margin-top:var(--spacing-12)}h2,h3,h4,h5,h6{color:var(--color-heading);font-weight:var(--fontWeight-bold)}h1{color:var(--color-heading-black);font-size:var(--fontSize-6);font-weight:var(--fontWeight-black)}h2{font-size:var(--fontSize-5)}h3{font-size:var(--fontSize-4)}h4{font-size:var(--fontSize-3)}h5{font-size:var(--fontSize-2)}h6{font-size:var(--fontSize-1)}h1>a,h2>a,h3>a,h4>a,h5>a,h6>a{color:inherit;text-decoration:none}p{--baseline-multiplier:0.179;--x-height-multiplier:0.35;line-height:var(--lineHeight-relaxed);margin:var(--spacing-0) var(--spacing-0) var(--spacing-8) var(--spacing-0)}ol,p,ul{padding:var(--spacing-0)}ol,ul{list-style-image:none;list-style-position:outside;margin-bottom:var(--spacing-8);margin-left:var(--spacing-0);margin-right:var(--spacing-0)}ol li,ul li{padding-left:var(--spacing-0)}li>p,ol li,ul li{margin-bottom:calc(var(--spacing-8)/2)}li :last-child{margin-bottom:var(--spacing-0)}li>ul{margin-left:var(--spacing-8);margin-top:calc(var(--spacing-8)/2)}blockquote{border-left:var(--spacing-1) solid var(--color-primary);color:var(--color-text-light);font-size:var(--fontSize-2);font-style:italic;margin-bottom:var(--spacing-8);margin-left:calc(var(--spacing-6)*-1);margin-right:var(--spacing-8);padding:var(--spacing-0) var(--spacing-0) var(--spacing-0) var(--spacing-6)}blockquote>:last-child{margin-bottom:var(--spacing-0)}blockquote>ol,blockquote>ul{list-style-position:inside}table{border-collapse:collapse;border-spacing:.25rem;margin-bottom:var(--spacing-8);width:100%}table thead tr th{border-bottom:1px solid var(--color-accent)}a{color:var(--color-primary)}a:focus,a:hover{text-decoration:none}.global-wrapper{margin:var(--spacing-0) auto;max-width:var(--maxWidth-wrapper);padding:var(--spacing-10) var(--spacing-5)}.global-wrapper[data-is-root-path=true] .bio{margin-bottom:var(--spacing-20)}.global-header{margin-bottom:var(--spacing-12)}.main-heading{font-size:var(--fontSize-7);margin:0}.post-list-item{margin-bottom:var(--spacing-8);margin-top:var(--spacing-8)}.post-list-item p{margin-bottom:var(--spacing-0)}.post-list-item h2{color:var(--color-primary);font-size:var(--fontSize-4);margin-bottom:var(--spacing-2);margin-top:var(--spacing-0)}.post-list-item header{margin-bottom:var(--spacing-4)}.header-link-home{font-family:var(--font-heading);font-size:var(--fontSize-2);font-weight:var(--fontWeight-bold);text-decoration:none}.bio{display:flex;margin-bottom:var(--spacing-16)}.bio-avatar,.bio p{margin-bottom:var(--spacing-0)}.bio-avatar{border-radius:100%;margin-right:var(--spacing-4);min-width:50px}.blog-post header h1{margin:var(--spacing-0) var(--spacing-0) var(--spacing-4) var(--spacing-0)}.blog-post header p{font-family:var(--font-heading);font-size:var(--fontSize-2)}.blog-post-nav ul{margin:var(--spacing-0)}.gatsby-highlight{margin-bottom:var(--spacing-8)}@media (max-width:42rem){blockquote{margin-left:var(--spacing-0);padding:var(--spacing-0) var(--spacing-0) var(--spacing-0) var(--spacing-4)}ol,ul{list-style-position:inside}}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#000;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;text-align:left;text-shadow:0 1px #fff;white-space:pre;word-break:normal;word-spacing:normal}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#b3d4fc;text-shadow:none}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{background:hsla(0,0%,100%,.5);color:#9a6e3a}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><meta name="generator" content="Gatsby 3.6.2"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=2c7a18d11ec6875aeabf478f416918a8" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=2c7a18d11ec6875aeabf478f416918a8"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=2c7a18d11ec6875aeabf478f416918a8"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=2c7a18d11ec6875aeabf478f416918a8"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=2c7a18d11ec6875aeabf478f416918a8"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=2c7a18d11ec6875aeabf478f416918a8"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=2c7a18d11ec6875aeabf478f416918a8"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=2c7a18d11ec6875aeabf478f416918a8"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=2c7a18d11ec6875aeabf478f416918a8"/><title data-react-helmet="true">Prime and Probe | Out of Order Core</title><meta data-react-helmet="true" name="description" content="Most cache side channel attacks requires a method to extract the secret from the cache. Flush and Reload is one such method to extract data from cache side channel that cache replacment policy to leak secrets. It can be used in systems that don&#x27;t offer an unprivileged instruction to invalidate cache lines."/><meta data-react-helmet="true" property="og:title" content="Prime and Probe"/><meta data-react-helmet="true" property="og:description" content="Most cache side channel attacks requires a method to extract the secret from the cache. Flush and Reload is one such method to extract data from cache side channel that cache replacment policy to leak secrets. It can be used in systems that don&#x27;t offer an unprivileged instruction to invalidate cache lines."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Kriyszig"/><meta data-react-helmet="true" name="twitter:title" content="Prime and Probe"/><meta data-react-helmet="true" name="twitter:description" content="Most cache side channel attacks requires a method to extract the secret from the cache. Flush and Reload is one such method to extract data from cache side channel that cache replacment policy to leak secrets. It can be used in systems that don&#x27;t offer an unprivileged instruction to invalidate cache lines."/><link as="script" rel="preload" href="/webpack-runtime-fd60f71f60829a3b87f3.js"/><link as="script" rel="preload" href="/framework-c4b9952841844d9091bc.js"/><link as="script" rel="preload" href="/app-3174bcc3c320f1993bcf.js"/><link as="script" rel="preload" href="/commons-ab2410dfbec4227df496.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-79300c07d367f2626517.js"/><link as="fetch" rel="preload" href="/page-data/prime-and-probe/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2841359383.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3257411868.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="global-wrapper" data-is-root-path="false"><header class="global-header"><a class="header-link-home" href="/">Out of Order Core</a></header><main><article class="blog-post" itemscope="" itemType="http://schema.org/Article"><header><h1 itemProp="headline">Prime and Probe</h1><p>June 23, 2021</p></header><section itemProp="articleBody"><p>This is the third post in our series of Timing Analysis and I high recommend reading the first two posts - <a href="/timing-analysis" target="_blank">Timing Analysis</a> (link opens a new tab), and <a href="/flush-and-reload" target="_blank">Flush and Reload</a> (link opens a new tab). That said if you are aware about cache hierarchy, shared libraries, shared pages, and cache placement policies, you can continue reading this article.</p>
<p>In this post we look at <strong>Prime and Probe</strong>.
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 583px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 53.79746835443038%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB9klEQVQoz32STWsTURSG5w/qprgRXIili0gxARNXbpJKk4DapUjslHbjtiAGF3ajzYfQUIqLoGiEYDLOzSSZyXx/5JGZSaKJxQOXy4H7Pue85x4JwPM8JpMJlmliWxYzwyDwfTZjPp//cy/PMpem0ymmZRGFIX4U4YYhpusyEILe1+/4no/pe/hBcC1ss5ikFIt4lpUkg9NTlIMDfsoyQpZ5cL7P6zOZyeMSvzoXqTCK1kCGYRCG4Z8OZ5kMtmEQP9EOD5nmcojSHmaxxM12jhf1KtzZRms2UtFCHIeiKFxdXdHr9ZKxJR0auRyOaabAkxNGhQJqpYJRqXKrWaBWf8Z8+z6i1VwDCiHQdX0F7na7BEGANMtmcRfAcQzM51HLFfRyha3mQ2pvn8K9DKKdAomiRDgcDpPU9/3EtqqqaJqGZGazyQxjoDg6QsvnETFwv8xWM8+regrUPrVWwHhm/X5/7TPG4/FfwEWHo+NjtEKBUbWaWm49Qn73PAGqrXSG0cJyLI5tLzscDAZJIUnf2cHW9QSo1GqI3V3UYglj7wk3GllevikT3r7L8PzDaobLrmJQbD22GyzWSpo2GgSLHxLdLkq7jbi8ZNTp8PHHBV++fUZ9f8Z0OLh2mTcXX9pczP/F8o3retiOk9yO42LZDrbtEEURvwFjEx22X7OZgwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="An illustration of prime and probe"
        title="An illustration of prime and probe"
        src="/static/9fc4b42662541bfaafb807d4c6aa5f0b/9fc4b/banner.png"
        srcset="/static/9fc4b42662541bfaafb807d4c6aa5f0b/c26ae/banner.png 158w,
/static/9fc4b42662541bfaafb807d4c6aa5f0b/6bdcf/banner.png 315w,
/static/9fc4b42662541bfaafb807d4c6aa5f0b/9fc4b/banner.png 583w"
        sizes="(max-width: 583px) 100vw, 583px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<center>
Alt: An illustration of prime and probe
<br/>
Made with <a href="https://excalidraw.com/" target="_blank">https://excalidraw.com/</a> (link opens a new tab)
</center>
<h2>Cache Replacement Strategies</h2>
<p>The placement of data in cache is discussed briefly in Flush and Reload post. Here we will take a look at how data is replaced in cache. There are many different strategies to evict data from cache when a new data is needed to be stored in a filled cache set. Some of them are (some more practical than others):</p>
<ul>
<li><strong>First In First Out (FIFO)</strong> - The logic behind the First In First Out is that the data that came first is probably the one that won’t be used again for long time and hence need not be cached.</li>
<li><strong>Last In First Out (LIFO)</strong> - The logic behind Last In First Out policy is that the data used last will not be used again for a while and in case of spacial locality the first data will be fetched first and that will lead to a cache hit.</li>
<li><strong>Least Recently Used (LRU)</strong> - The data that hasn’t been accessed for the longest will be evicted. This policy uses past access as a metric to predict future.</li>
</ul>
<p>To know more about cache replacement, you can read the Wikipedia article titled <a href="https://en.wikipedia.org/wiki/Cache_replacement_policies" target="_blank">Cache Replacement Policy</a> (link opens a new tab).</p>
<p>The main takeaway from this section, to understand prime and probe, is that whenever cache set is filled, some data is evicted from the cache set to make room for the new data.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 489px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 160.75949367088606%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAgCAYAAAASYli2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFYklEQVRIx5WW+09b9x2G/cftl41k7aaUrWkzllIGGQSGAUMIKh3g2FyiBBKaZlHbtE26SP0LslyaTSUaqFKHwQ0Y4jv28bnfbMCX80zn2BAD6bR8JMu27O+j9/3cvscH4DiO+0ZpdxchEkHc3KSwuYnw4gViNIqwukohFiO7soJtmhycOTi3X95nW4wjWTK+ZqBumqgDA4izs4jhMMbYGJlgEG1oiOTcHFp7O2omUwfWatScmvc5pwr8+tEHLEbuHgUaloXZ3484PY0SCmGPjnpAKxAgPTeH/eGHqNnsK2CtDhR0kZanbdyIfH4SaPj95MNhlHAY8/JlMqEQekOh1dGBkc/T8MxBFHSJU0/+yOLqaxQa/f2HQN1V2ACmZmcpdnaS297mZSKBpqpYtkXJLpLMpTj99Dw3I1+czOEBUD0GzLiWOzpQMhn2ymXK+/tUqpV6DuU8p56cZ3Hty5NAvb+fXCiENj2N7lp2wYEA2YZlbWfn0PLBuYIqcvrpB3wa/fooUDMM9L4+csEg5swM1tgYO6EQ1uAgeRfoVrm5KI0qi5rEW8/aufPimwawUS1V1xEHBkgFgyhzcxjj42SuXkUZHfUUSh0dyEeAdSGKofL243burN/H56k7aND9faRYDCWZRE0kUNwGTyQQ43GkrS2v6Yu2faKxK5UKkfxPZLVcXWGxUkFUFDRNQy+VKFUqlJva4ng4Tb85x/7nc6pVNh4+RNzaolyrIScSZDc3ScdiJNbXSaVSyLKMLgie8lKxeEJhtVYlbxQwSiY+LZul0NKC8uABiuOQu3SJ9Ogo8rVrSENDbMfjCLpO8vZt8l1dSK8pSkEXOfOPTj5b+zs+M5fDbm1Fe/AAqVbDGB6mMDSENTWF3dNDNp9nD8guLFDq7EQThBOjl1Py/PLJH7gV/aoOtN55B/X+feRaDXV4GCEQwLxyBePiRdI7OxQdh9TCAlZXl2f9eLjLoeVxW70PrXy+Drx3D7lS8TaLMDSEEQxi9PSQyeU8YHJ+ntKFCwjJpDd6hq5TLBWpliskhRQtT9q4tf5VHWg3gEq1ijY4WAdOTWH29pLO5z1g4vp1ihcuIKbTSIqCaZpNwLQH/MQdPdtV2NqKcu8emuN4c5tvKLT6+sg0gK5C+2cs51WBXz1uY3H9Lj5LEA4V6u60+P0URkYwQyGKfj+CLLMLpBcXPYX6a4si1LdN9C4+u1BAPHMG49tvMdxl2dXFjt+PMj6O3d1NTpawqlXPsnbu3LHRe1XlXzw6y8yPt/Bl02ki333H9tqad6fkIhEKGxsUolGktQiSJKOqOvL2Nrkffnjt6JX2Sjx6+U+iuQ18drGI4t4luk65XPaqZypKfTdatreNU1Ia3TLRdZ3dUunIyJ0YveYvlttv4+PoH39M/MY8pcBlZpdu8tt/XWT1bwvI59spbMUOLTdDq049Bd628ZLrOLhm5I8+Yu/SJTKzM/DnvxB+Ps/p5R42bs9T/N27SLFNmlfe8Xi1YB0H14wyOYk9MkJ8Oky120/4++u8vdxL9M4NrLPvI74JcLcBNIeHiYdDVLv7mV6a563lXtZd4LvveQ8BbwSUJiYwAgHiV4IecPb5DU/h+mc3PaDUlMP/CyhPTKAPDpKYmqTa42d2qQ786fNPsM++/2ZAN4fa5CT6wADJib9C7yBXl27ym5U+Nr/4lN1zbSgvt08Am3vyyK3nVlkcG0Pt6yM2Mkz1TxeZeXaNU8+7idy6jtX6+yPAA1Dz6wjQvQKyy8uIKyukl75HfPqMH1/+h2fxf5ONrJJ7+BBLVflfcdjYzrHnlZ+LcqWKYVremJZ297CLJSy7iGnZ7JfL/BfZCcb0P2TVswAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="A depiction of cache replacement where when a new data arrives at a populated cache set, data from a particular cache line is evicted based on the cache replacement algorithm and the new data is filled in."
        title="A depiction of cache replacement where when a new data arrives at a populated cache set, data from a particular cache line is evicted based on the cache replacement algorithm and the new data is filled in."
        src="/static/8875175fe0efcaa56dae3d4b3ce6cddc/03e1f/replacement.png"
        srcset="/static/8875175fe0efcaa56dae3d4b3ce6cddc/c26ae/replacement.png 158w,
/static/8875175fe0efcaa56dae3d4b3ce6cddc/6bdcf/replacement.png 315w,
/static/8875175fe0efcaa56dae3d4b3ce6cddc/03e1f/replacement.png 489w"
        sizes="(max-width: 489px) 100vw, 489px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<center>
Alt: A depiction of cache replacement where when a new data arrives at a populated cache set, data from a particular cache line is evicted based on the cache replacement algorithm and the new data is filled in.
<br/>
Made with <a href="https://excalidraw.com/" target="_blank">https://excalidraw.com/</a> (link opens a new tab)
</center>
<h2>Prime and Probe</h2>
<p>In prime and probe, the attacker threads fills the cache set where the shared library routine will be loaded. As cache placement is deterministic based on the address of the data being loaded, attacker can fill a cache set very easily with junk data.Once filled, the attacker its and tries to read this data again. If he can access all the data quickly, they are still in cache and the shared routine must not have run since cache was last primed. If one data access takes longer that other, the data has been evicted from the cache and the shared library routine might have run since cache was last primed.</p>
<p>Thus the attacker can prime the cache set with his data and probe it at regular interval timing the accesses. The advantage of prime and probe over flush and reload is that we don’t depend on the micro-architecture to have implemented an instruction like clflush and we use the design and behavior of cache to spy on victim. With prime and probe, the probe in fact primes the cache for the next analysis as reading data will cause the data to be cached again but priming cache initially takes longer.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 559px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 241.13924050632912%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="A step by step look at how prime and probe works on a blocking cache - the data from victim thread evicts the data from cache primed by the attacker. When the attacker probes the data, the he finds cache misses and following an LRU replacement scheme, the victim data becomes the least recently used data and is evicted at the end after all the probing thus priming the cache set again for next round."
        title="A step by step look at how prime and probe works on a blocking cache - the data from victim thread evicts the data from cache primed by the attacker. When the attacker probes the data, the he finds cache misses and following an LRU replacement scheme, the victim data becomes the least recently used data and is evicted at the end after all the probing thus priming the cache set again for next round."
        src="/static/07e25d281fd32f607987157b1ab6222e/a65ce/pnp.png"
        srcset="/static/07e25d281fd32f607987157b1ab6222e/c26ae/pnp.png 158w,
/static/07e25d281fd32f607987157b1ab6222e/6bdcf/pnp.png 315w,
/static/07e25d281fd32f607987157b1ab6222e/a65ce/pnp.png 559w"
        sizes="(max-width: 559px) 100vw, 559px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<center>
Alt: A step by step look at how prime and probe works on a blocking cache - the data from victim thread evicts the data from cache primed by the attacker. When the attacker probes the data, the he finds cache misses and following an LRU replacement scheme, the victim data becomes the least recently used data and is evicted at the end after all the probing thus priming the cache set again for next round.
<br/>
Made with <a href="https://excalidraw.com/" target="_blank">https://excalidraw.com/</a> (link opens a new tab)
</center>
<br />
<p><strong>Note</strong>: The diagram depicts a blocking cache where only one outstanding request to cache can exist. In modern microprocessors, the caches are asynchronous and the LRU counter is updated dynamically. The end result is however the same - if victim doesn’t calls the shared routine again in middle of probing, it becomes the lease recently used data as it was brought in before the probing began and will be the one to get evicted.</p>
<p>How secrets can be leaked using shared memory access is discussed in the previous article of this series titled Flush and Reload but the basic gist behind the leak is if the call to shared library routine is based on a secret in the victim thread, the attacker can infer information about the secret and can, in some cases, discover what the secret is entirely.</p>
<h2>Complications</h2>
<p>Prime and Probe have the following complications associated with it:</p>
<ul>
<li>The attacker and victim should run on the same physical core on separate threads at the same time.</li>
<li>The attacker and victim should share the last level cache. Without shared cache, this type of attack will not work.</li>
<li>Probing the data takes some time and the victim thread must not make a call to the shared library routine in middle of probing else based on cache replacement strategies, the cache set might not be primed in the end,</li>
</ul>
<h3>Scenarios</h3>
<p>The following images depict the optimal scenario for prime and probe:</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 59.49367088607595%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABYElEQVQoz6VTy27CMBDMR3JD3MiNEzeExJ9xQuLxBQUOlRCvxHlR24kTO8lUa0hUoFUlWGnkzcoe7+zETl3XoMjzHMYYmze1V8JpkjRNLenbhNSV1toSFkXREr4Kh3MO3/chpWwlvxN3komcuqVOf4Jqj/WyLG0DBBqVUsrmTjOvVEpIzmG0Rq6U3UAbCQ1J802XM8YQBgHCMIRMU2RZZi9tCbM8B7tcEAkB9Y90UrLebPB5POJjvbbjepYcx9gtl9jN50i2W9R/mEOhjUFwPmM/neJ8OKDQujXTIZkKgFgsILpdmH4f0Xh890/eoapsvYxjhK6LPAiu+6rqSsg8Dz7n4LMZVKeDuteDGI1Q3Q4+xa3LKkmQDAZQjP3uslitEHa7yFwX0WTSvpxHlLTSiHwfh+EQyX6Pwpj2YbSmFEohOp0Qex4ujEEKYYed3hxs0LhPaxLF4FxACIkvLpBlCt9bOJ05caKiiQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="The attacker thread primes the cache and finds no cache miss in next probe thus deducing that victim didn&#39;t call the shared library routine."
        title="The attacker thread primes the cache and finds no cache miss in next probe thus deducing that victim didn&#39;t call the shared library routine."
        src="/static/1f82f3042b9a10fc24065de76928a383/f058b/2.png"
        srcset="/static/1f82f3042b9a10fc24065de76928a383/c26ae/2.png 158w,
/static/1f82f3042b9a10fc24065de76928a383/6bdcf/2.png 315w,
/static/1f82f3042b9a10fc24065de76928a383/f058b/2.png 630w,
/static/1f82f3042b9a10fc24065de76928a383/f8067/2.png 726w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<center>
Alt: The attacker thread primes the cache and finds no cache miss in next probe thus deducing that victim didn't call the shared library routine.
</center>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 60.12658227848101%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACL0lEQVQoz32T209TQRDG+9fxYEzAF1FSwNILJK2J0RjfefONBMJ/wgO8GIhUoCFSLhYoYAu0wGk5Pdc99/7MntoDKnGSLzu7O/l2Zr7ZVL/fR5rneYRhGPvDsygIuWxectO+4eryio7SYWjDmL8tNbywLAvf94fRmMLirHHO3mE1Ru20xsGPA65vWwnhU6SpKIrizEzTfEQIn6vLvPxWZKbykemdD0xvvWdy+x2F8idsT/xB+hgpx3Fot9v0er2kZEk4v7fAyNdJxsoFRjdzjJXzPN+c4fXmW0zH/B32RIZDx7ZtJHkQBhD0ma8sMPIlzYuNPKMbWUbXszxbf8Or9SKapcePygQkgiCIIatNeigJLdPEc11c4XDcPmWruUvleo/K9Xe2r3YpNyvxmWEaGJqOqesYmoZpGHHLXNd9IJSbrqahqCqGEPzPPN/nsF7n+OIiXk3H+bdkVwjaR0f83NmhU6sRyhL6EWEUEsbrwI8AR1VprK1xvrrK2coKer2eiJRyHQfh+5iNBk6xSJTPY87OIrrdQVAUPagYRYMRq1Zxpqbwczn8iQn0xcX4IWQP77tdWre3dE9O8HI5wnQaO5PBV9VkJh9N86Df+/t46TRBJkM4Po6xtJTo/aByq0WvVEIUCqjFIkJRCPp9At9PVJS+zESrVlHn5jBKJaxsFmV5Gcv3cYQYiCIhe9ZTFNS7OzRFiVWTv0eqL4RIIEdLwjYM1E4HrXuP0dPQDRlv8wttBW1QD3Kv9QAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="The attacker thread primes the cache. The victim thread loads the shared library routine evicting some data from cache set. The attackers finds a cache miss in next probe thus deducing that victim called the shared library routine."
        title="The attacker thread primes the cache. The victim thread loads the shared library routine evicting some data from cache set. The attackers finds a cache miss in next probe thus deducing that victim called the shared library routine."
        src="/static/0a63ec2ef646a3f6eb92404e50a63d50/f058b/1.png"
        srcset="/static/0a63ec2ef646a3f6eb92404e50a63d50/c26ae/1.png 158w,
/static/0a63ec2ef646a3f6eb92404e50a63d50/6bdcf/1.png 315w,
/static/0a63ec2ef646a3f6eb92404e50a63d50/f058b/1.png 630w,
/static/0a63ec2ef646a3f6eb92404e50a63d50/f8067/1.png 726w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<center>
Alt: The attacker thread primes the cache. The victim thread loads the shared library routine evicting some data from cache set. The attackers finds a cache miss in next probe thus deducing that victim called the shared library routine.
</center>
<br />
<br />
<p>The following scenarios show where the attacker can misinterpret data if they fail to plan the timing between prime and successive probes:</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 50.632911392405056%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB4UlEQVQoz32Sz2sTQRzF90/rwVMPkR5aKFJy6aG0CEUKvXlQ0VPppeYQKApeexEv/rbQ1ijEBqyIpCE1MUk3281u3M3u7Ozu7Edm00ilki+8mWH48r7z3hsDIEkSoijSRzKyfBfDgPNWD+uXyaBng+Jv5T0Z/y1DL2maEgTBuFllvPz5gVLtKeXjZzkeV5/w4vQ1rWGH541XjPkysuw6DE1kWRZCiPEIBRtfHnDj8BY3K8sUPi7n5zvH96j0qmxWHzGtDKVULtf3fWQsiUPJRuU+M28WmH1XZPZ9kZm3C9yu3OWw9ZnNTw/JpCJJk9wqDSllzqGV5pI16cj3SaQkFhGndpNa/4Sa+Y2aeUK1/5UfgwbOyKXhnBHLmKHjjOG6REJcJxwGAV3HwZ1In1Laq7Nej+/NJvV2+2peGCiVXwyPjrgol3H39ohGPoqMVKVXoPLBujcOQwa7u5hbW/S3twnq9ctAFcZFv8+55xHu7EChgFhZIbLtqS+UnodcXSVbXCSenyc4OLgMVGFkaUoMOKUS3twcztoav7tdoiTJk9feaGjjNeIkwbNt7PV1vGKR4dISg/19pB4kBAbZ+IeGloXfaBC020RhSBzH/2CS6CRVYZqITodRq0XgugShQEQRfwDY1d+W/p+YxAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="The attacker thread primes the cache. The victim thread loads the shared library routine evicting some data from cache set. The routine is run again in victim before the probing as a result of poor timing. The attackers finds a cache miss in next probe thus deducing that victim called the shared library routine once when in fact it ran twice."
        title="The attacker thread primes the cache. The victim thread loads the shared library routine evicting some data from cache set. The routine is run again in victim before the probing as a result of poor timing. The attackers finds a cache miss in next probe thus deducing that victim called the shared library routine once when in fact it ran twice."
        src="/static/ded049832de1d227db332998996c0eb0/f058b/3.png"
        srcset="/static/ded049832de1d227db332998996c0eb0/c26ae/3.png 158w,
/static/ded049832de1d227db332998996c0eb0/6bdcf/3.png 315w,
/static/ded049832de1d227db332998996c0eb0/f058b/3.png 630w,
/static/ded049832de1d227db332998996c0eb0/39a20/3.png 859w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<center>
Alt: The attacker thread primes the cache. The victim thread loads the shared library routine evicting some data from cache set. The routine is run again in victim before the probing as a result of poor timing. The attackers finds a cache miss in next probe thus deducing that victim called the shared library routine once when in fact it ran twice.
</center>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACD0lEQVQoz12STUsbURSG88e66KJdlCouSlC6KBUXgj9C8GOtBYUW2kID0kWhFbIodCMWrSX2w6JiwMTEdpLGTMbMZObOnY8785R7E8H0wHvP4Z5zXt57zi0ApGlKFEU6JM9zgxvrtWyufv/Ftq4IHJ/bdrvuxgr6UEohhDAXWZ4Zfy1dXh2/5cXPEs9/lHh5tMXGt9ccdU7Y/1OhF16PCbhBIQxDbNtGSjlGWPcuub/zmImDOR7uzzL5ZY67n6fZqn1g5fAZVbc+qh9XWdDqNKlWmGUZSZqYRM1pcO/jDA92nvBw9ykTu7Pc+fSIN2fvWD5Y58SumrpUKTKlzNh0v3myDgaeRywlUggiGeEGHt9bvzi0jtirf2WvdsD+ZQXLbVPrNXCFh/ADHNvm2nFMvxY3JFSKvhBYjkM/DMeekIqEZu2SRtPCadtjuX4QcNZsclKv4wwGo6XkOXpqXqWCXSrRL5dJRqRKpSjAbVzQ3n6PSGLyPCPLFHpyzvY23bU1euvreOWy4Sn0ul06vo/Y2IDJSeT8PNIeKVFq6KpVBktL/P9J9F1WLJIXi4jl5SFhliToH+hubhJOTeEvLBB2uyaZxrFRGBwf01lcROY5cRQZSKWwV1bwpqcZzMzQW11FJslwhtqCdhv39BTv/Bzf88zmNWQcIz0PYVlmo0mSDJGmhJ0O/sUFotHEb7WQUcQ/WLbZvnpSltcAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="The attacker thread primes the cache. The attacker probes before data for the shared routine could be loaded into cache thus detecting no cache miss deducing that shared library has not been run when in fact it is being loaded concurrently. The victim thread loads the shared library routine evicting some data from cache set. The routine is run again in victim before the probing as a result of poor timing. The attackers finds a cache miss in next probe thus deducing that victim called the shared library routine once when in fact it ran twice."
        title="The attacker thread primes the cache. The attacker probes before data for the shared routine could be loaded into cache thus detecting no cache miss deducing that shared library has not been run when in fact it is being loaded concurrently. The victim thread loads the shared library routine evicting some data from cache set. The routine is run again in victim before the probing as a result of poor timing. The attackers finds a cache miss in next probe thus deducing that victim called the shared library routine once when in fact it ran twice."
        src="/static/95f6574a05a8e320749ed44968d6eb85/f058b/4.png"
        srcset="/static/95f6574a05a8e320749ed44968d6eb85/c26ae/4.png 158w,
/static/95f6574a05a8e320749ed44968d6eb85/6bdcf/4.png 315w,
/static/95f6574a05a8e320749ed44968d6eb85/f058b/4.png 630w,
/static/95f6574a05a8e320749ed44968d6eb85/39a20/4.png 859w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<center>
Alt: The attacker thread primes the cache. The attacker probes before data for the shared routine could be loaded into cache thus detecting no cache miss deducing that shared library has not been run when in fact it is being loaded concurrently. The victim thread loads the shared library routine evicting some data from cache set. The routine is run again in victim before the probing as a result of poor timing. The attackers finds a cache miss in next probe thus deducing that victim called the shared library routine once when in fact it ran twice.
<br/>
Made with <a href="https://excalidraw.com/" target="_blank">https://excalidraw.com/</a> (link opens a new tab)
</center>
<h2>Coming up next</h2>
<p>In the next post we’ll look at other side channels which exist in modern processors and attacks that use these channels effectively to leak secrets in real world application.</p>
<p>Thank you for reading till the end. I’m an undergraduate student keenly interested in Computer Architecture and I look at micro-architectural based attacks to understand more about the working of our hardware. If you find any inaccuracies in the above post, please reach out to me and I’ll address it in the next edit. Have a nice day!</p></section><hr/><footer><div class="bio"><div data-gatsby-image-wrapper="" style="width:50px;height:50px" class="gatsby-image-wrapper bio-avatar"><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;width:50px;height:50px;position:relative"></div><picture><source type="image/avif" data-srcset="/static/2c7a18d11ec6875aeabf478f416918a8/d4bf4/avatar.avif 50w,/static/2c7a18d11ec6875aeabf478f416918a8/ee81f/avatar.avif 100w" sizes="50px"/><source type="image/webp" data-srcset="/static/2c7a18d11ec6875aeabf478f416918a8/3faea/avatar.webp 50w,/static/2c7a18d11ec6875aeabf478f416918a8/6a679/avatar.webp 100w" sizes="50px"/><img data-gatsby-image-ssr="" layout="fixed" data-main-image="" style="opacity:0" sizes="50px" decoding="async" loading="lazy" data-src="/static/2c7a18d11ec6875aeabf478f416918a8/e5610/avatar.png" data-srcset="/static/2c7a18d11ec6875aeabf478f416918a8/e5610/avatar.png 50w,/static/2c7a18d11ec6875aeabf478f416918a8/e9b55/avatar.png 100w" alt="Profile picture"/></picture><noscript><picture><source type="image/avif" srcSet="/static/2c7a18d11ec6875aeabf478f416918a8/d4bf4/avatar.avif 50w,/static/2c7a18d11ec6875aeabf478f416918a8/ee81f/avatar.avif 100w" sizes="50px"/><source type="image/webp" srcSet="/static/2c7a18d11ec6875aeabf478f416918a8/3faea/avatar.webp 50w,/static/2c7a18d11ec6875aeabf478f416918a8/6a679/avatar.webp 100w" sizes="50px"/><img data-gatsby-image-ssr="" layout="fixed" data-main-image="" style="opacity:0" sizes="50px" decoding="async" loading="lazy" src="/static/2c7a18d11ec6875aeabf478f416918a8/e5610/avatar.png" srcSet="/static/2c7a18d11ec6875aeabf478f416918a8/e5610/avatar.png 50w,/static/2c7a18d11ec6875aeabf478f416918a8/e9b55/avatar.png 100w" alt="Profile picture"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div><p><strong>Hello </strong> <!-- -->I&#x27;m Prateek Nayak, an undergraduate student studying Computer Science. This blog hosts my explanations about various interesting stuff I&#x27;ve understood (or thought I&#x27;ve understood) while exploring the microarchiteture that powers our modern computers. People say I&#x27;m a pleasant person so don&#x27;t hesitate if you ever want to reach out to me regarding errors in this blog or just to discuss computer architecture in general<br/><strong>Note</strong>: Hyperlinks below open a new tab.<br/>You can reach out to me via <strong><a href="mailto:kprateeknayak@gmail.com" rel="noreferrer" target="_blank">Email</a></strong>, <strong><a href="https://twitter.com/Kriyszig" rel="noreferrer" target="_blank">Twitter</a></strong>, or <strong><a href="https://github.com/outofordercore/outofordercore.github.io/issues" rel="noreferrer" target="_blank">Github</a></strong><br/>Avatar stolen from <strong><a href="https://knowyourmeme.com/photos/1896667-soy-boy-face-soyjak" rel="noreferrer" target="_blank">KnowYourMeme</a></strong></p></div></footer></article><nav class="blog-post-nav"><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/flush-and-reload/">← <!-- -->Flush and Reload</a></li><li><a rel="next" href="/speculative-execution/">Speculative Execution<!-- --> →</a></li></ul></nav></main><footer>© <!-- -->2021<!-- -->, Built with<!-- --> <a href="https://www.gatsbyjs.com">Gatsby</a></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/prime-and-probe/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-d2a314c619ae9d8e67ff.js"],"app":["/app-3174bcc3c320f1993bcf.js"],"component---src-pages-404-js":["/component---src-pages-404-js-97593667e44e4660bc60.js"],"component---src-pages-index-js":["/component---src-pages-index-js-ab7584f4339b0441676f.js"],"component---src-pages-using-typescript-tsx":["/component---src-pages-using-typescript-tsx-ec89e82605e2a0c5e9c7.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-79300c07d367f2626517.js"]};/*]]>*/</script><script src="/polyfill-d2a314c619ae9d8e67ff.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-79300c07d367f2626517.js" async=""></script><script src="/commons-ab2410dfbec4227df496.js" async=""></script><script src="/app-3174bcc3c320f1993bcf.js" async=""></script><script src="/framework-c4b9952841844d9091bc.js" async=""></script><script src="/webpack-runtime-fd60f71f60829a3b87f3.js" async=""></script></body></html>